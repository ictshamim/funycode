---
title: Exception Handling in Cplusplus
category: Cplusplus Programming
author: Anonymous
tags: ['#C++', '#tutorial']
date: 2021-01-01
thumbnailText: C++ Tutorial-31
---
## Exception Handling in C++
In C++ errors can be divided into two categories compile time errors and run time errors. Compile time errors are syntactic errors which occurs during the writing of the program. Most common examples of compile time errors are missing semicolon, missing comma, missing double quotes, etc.

- They occurs mainly due to poor understanding of language or writing program without proper concentration to the program.
- There are logical errors which are mainly due to improper understanding of the program logic by the programmer.
- Logical errors cause the unexpected or unwanted output.
- Exceptions are runtime errors which a programmer usually does not except.
- They occurs accidentally which may result in abnormal termination of the program.
- C++ provides exception handling mechanism which can be used to trap this exception and running programs smoothly after catching the exception.
- Common examples of exceptions are division by zero, opening file which does not exist, insufficient memory, violating array bounds, etc.
## Exception Handling
- Exception handling is the process to handle the exception if generated by the program at run time. The aim of exception handling is to write code which passes exception generated to a routine which can handle the exception and can take suitable action. Any exception handling mechanism must have the following steps:

   - Step 1 : Writing exception class (optional).
   - Step 2 : Writing try block.
   - Step 3 : Throwing an exception.
   - Step 4 : Catching and handling the exception thrown.

## Important Notes Regarding Exception Handling

- Exception is run-time error which may occur in the program
- An exception if not handled may terminate the program abnormally.
- To deal with exception, try-catch blocks are used.
- An exception in programming term is considered an object which is thrown.
- Any program code or function which may generate exception is placed in the try block. The exception is thrown by using keyword throw.
- For one try block there may be multiple catch block.
- An exception can be rethrown in case of nesting of try-catch blocks. To rethrown an exception, we simply write throw;
- A function can specify what type of exception can be thrown by specifying in the function declaration.
- Objects of user defined classes as exception can also be thrown.
- The expression catch (…) can be used to catch all types of exceptions.
## The try Block
- The exception is to be thrown to be written in the try block. Whenever an exception is generated in the try block, it is thrown.

- An exception is an object so we can say that an exception object is thrown.
- The throw keyword is used for throwing an exception.
- The usual practice of using the throw statement is as : throw exception;
- For throwing an exception and simply throw; For re-throwing an exception.
~~~js
The syntax of try block is as shown :
try
    {
    statements;
    statements;
    statements;
    throw exception;
    }
~~~
## The catch Block
- An exception thrown by try block is caught by the catch block. A try block must have at least one catch, though there can be many catch block for catching different types of exceptions. A catch block must have a try block prior written which will throw an exception. The catch block is used as :
~~~js
try
    {
    statements;
    statements;
    statements;
    throw exception;
    }
catch (object or argument)
    {
    statements for handling the exception;
    }
~~~

- The catch block catches any exception thrown by the try block.
- If exception thrown matches with the argument or object in the block, the statements written within the catch block and we say that exception thrown by try block was caught successfully by the catch block.
- After the successful execution of the catch block statements any statements following the catch block will be executed.
- If argument does not match with the exception thrown, catch couldn’t handle it and this may results in abnormal program termination.
## Exception Handling Mechanism
- The try, throw and catch all together provide exception handling mechanism in C++.

- The exception is generated by the throw keyword which is written in the try block.
- Any exception generated within this try block is thrown using this throw keyword. Immediately following the try block, catch block is written.
- As soon as some run time errors occurs an exception is thrown by the try block using throw which informs the catch block that an error has occurred in the try block.
- This try block is also known as exception generated block. The catch block is responsible for catching the execution thrown by the try block.
- When try throw an exception, the control of the program passes to the catch block and if argument matches as explained earlier, exception is caught.
- In case no exception is thrown the catch block is ignored and control passes to the next statement after the catch block.
### Example-1: Write a C++ program to illustrate division by zero exception.
~~~js
//Write a C++ program to illustrate division by zero exception.
#include<iostream>
using namespace std;
int main( )
    {
    float x,y;
    cout<<"Enter two numbers\n";
    cin>>x>>y;
    try
        {
        if(y!=0)
        cout<<"Div="<<x/y<<endl;
        else
        throw(y);
        }
    catch(float E)
        {
        cout<<"Caught an Exception \n";
        cout<<"y="<<y<<endl;
        }
    cout<<"Out of try catch block \n";
    }
~~~
~~~
Output:
Enter two numbers
20
0
Caught an Exception
y=0
Out of try catch block
~~~
### Example-2: Write a C++ program to illustrate exception handling in subtraction of two number a and b where a>b.
~~~js
// Write a C++ program to illustrate exception handling in subtraction of two number a and b where a>b.
#include<iostream>
using namespace std;
int main( )
    {
    int x,y;
    bool m;
    cout<<"Enter two numbers \n";
    cin>>x>>y;
    m=x>y ?true :false;
    try
        {
        if(m==true)
        cout<<"Subtraction="<<x-y<<endl;
        else
        throw("subtraction not possible");
        }
    catch(const char* E)
        {
        cout<<"Caught an Exception\n";
        cout<<E<<endl;
        }
    cout<<"Out of try catch block\n";
    }
~~~
~~~
Output:
Enter two numbers
20
30
Caught an Exception
subtraction not possible
Out of try catch block
~~~
### Example-3: Write a C++ program to illustrate multiple catch statement in single try block.
~~~js
//Write a C++ program to illustrate multiple catch statement in single try block.
#include<iostream>
using namespace std;
int main( )
    {
    int num=10;
    for(num=10; num<=30; num+=10)
        {
        try
            {
            if(num==20)
            throw("GOOD");
            else if(num<20)
            throw num;
            else if (num>20)
            throw 2.25f;
            }
        catch(const int E)
            {
            cout<<"Caught int Exception E="<<E<<endl;
            }
        catch(const char* E)
            {
            cout<<"Caught string Exception E="<<E<<endl;
            }
        catch( const float E)
            {
            cout<<"Caught float Exception E="<<E<<endl;
            }
        }
    cout<<"Outside try catch block"<<endl;
    }
~~~
~~~
Output:
Caught int Exception E=10
Caught string Exception E=GOOD
Caught float Exception E=2.25
Outside try catch block
~~~
### Example-4: Write a C++ program to illustrate array index out of bound exception.
~~~js
//Write a C++ program to illustrate array index out of bound exception.
#include<iostream>
using namespace std;
#define S 5
int main( )
    {
    int arr[S]= {1,2,3,4,5};
    int idx;
    void show_ele(int[ ],int);
    cout<<"Enter the array index\n";
    cin>>idx;
    try
        {
        show_ele(arr,idx);
        }
    catch(const char* E)
        {
        cout<<"Caught an Exception\n";
        cout<<E<<endl;
        }
    cout<<"Out of try catch block \n";
    }
void show_ele(int arr[ ],int idx)
    {
    if(idx>=0 && idx<S)
    cout<<"Element at "<<idx<<" is "<<arr[idx]<<endl;
    else
    throw("Array index out of bound");
}
~~~
~~~
Output:
Enter the array index
5
Caught an Exception
Array index out of bound
Out of try catch block
~~~
### Example-5: Write a C++ program to illustrate exception handling mechanism in inheritance.
~~~js
//Write a C++ program to illustrate exception handling mechanism in inheritance.
#include<iostream>
using namespace std;
class demo1
    {
    };
class demo2 :public demo1
    {
    };
int main( )
    {
    for(int i=1; i<=2; i++)
        {
        try
            {
            if(i==1)
            throw demo1( );
            else if(i==2)
            throw demo2( );
            }
        catch(demo1 d1)
        {
        cout<<"Caught exception of demo1 class \n";
        }
        catch(demo2 d2)
        {
        cout<<"Caught exception of demo2 class \n";
        }
        }
    }
~~~
~~~
Output:
Caught exception of demo1 class
Caught exception of demo1 class
~~~
### Example-6: Write a C++ program to illustrate exception handling mechanism in constructor.
~~~js
//Write a C++ program to illustrate exception handling mechanism in constructor.
#include<iostream>
using namespace std;
class demo
    {
    int num;
    public :
    demo( )
        {
        try
            {
            throw 25;
            }
        catch(int E)
            {
            cout<<"Exception caught \n";
            num=E;
            }
        }
    void show( )
        {
        cout<<"num="<<num<<endl;
        }
    };
int main( )
    {
    demo d;
    d.show( );
    }
~~~
~~~
Output:
Exception caught
num=25
~~~
### Example-7: Write a C++ program to illustrate catching all types of exception in single catch block.
~~~js
//Write a C++ program to illustrate catching all types of exception in single catch block.
#include<iostream>
using namespace std;
int main( )
    {
    int num = 10;
    for(num=10; num<=30; num+=10)
        {
        try
            {
            if(num==20)
            throw("Good");
            else if(num<20)
            throw num;
            else if(num>20)
            throw 2.25f;
            }
        catch(...)
            {
            cout<<"Caught an Exception \n";
            }
        cout<<"Outside try catch block\n";
        }
    }
~~~
~~~
Output:
Caught an Exception
Outside try catch block
Caught an Exception
Outside try catch block
Caught an Exception
Outside try catch block
~~~
